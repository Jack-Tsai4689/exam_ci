function chk_all(){$("input:checkbox[name=choice_f]").prop("checked",!0)}function notchk_all(){$("input:checkbox[name=choice_f]").prop("checked",!1)}function field_change(){var e,n,c=$("input:checkbox[name=choice_f]:checked").val();null==c?document.getElementById("field_msg").innerHTML="至少選一個":($("input:checkbox[name=choice_f]").each(function(){e=$(this).prop("checked"),n=$(this).val(),e?($('th[name="'+n+'"]').css("display","table-cell"),$('td[name="'+n+'"]').css("display","table-cell")):($('th[name="'+n+'"]').css("display","none"),$('td[name="'+n+'"]').css("display","none"))}),close_field())}function page(e){form1.action="ex_list.php?p="+e,form1.submit()}function open_field(){$("#sets_filed").css("display","block")}function close_field(){$("#sets_filed").css("display","none"),document.getElementById("field_msg").innerHTML=""}function check_all(e,n){for(var c=document.getElementsByName(n),s=0;s<c.length;s++)c[s].checked=e.checked}function goo2(e,n){window.open("fieldlist.php?f_pno=ex_list&self=true&epno="+e+"&f_fields="+n,"result","width=1026,height=768,resizable=yes,scrollbars=yes,location=no")}function rand(e,n){if(0!=e){var c=prompt("請輸入要的題數，最少1題，最多"+e+"題");if("0"==c||""==c||isNaN(c)||c>e)alert("輸入有誤");else if(null!=c){var s=new Array,t=new Array,o=$("#qid_no").val();t=o.split(","),t.sort(function(){return.5-Math.random()});for(var i=0;c>i;i++)s[i]=t[i];if("old"==n){if(""==$("#c_sets").val())return alert("您尚未選擇考卷"),!1;var l=s.join(",");$("#addqid").val(l),$("#action").val("oldsetsr"),form1.submit()}"new"==n&&(location.href="ex_setsA.php?w_add=T&f_prepno=<?=trim($f_pno)?>&f_qchk="+s)}}else alert("無題目可選")}function chk(e){var n=new Array;$('input:checkbox:checked[name="chkbox[]"]').each(function(){""!=$(this).val()&&n.push($(this).val())}),0==n.length?alert("您尚未勾選題目!"):"newsets"==e?location.href="ex_setsA.php?w_add=T&f_prepno=<?=trim($f_pno)?>&f_qchk="+n:"oldsets"!=e&&"outsets"!=e||(""!=$("#c_sets").val()?($("#action").val(e),form1.submit()):alert("您尚未選擇考卷"))}function search_confirm(){for(var e=$("#f_search").val(),n=new RegExp("[`~!--@#$^&()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】『；：」「'。，、？]"),c="",s=0;s<e.length;s++)c+=e.substr(s,1).replace(n,"");""!=e.trim()&&form1.submit()}function open_point(e){"none"==$("#"+e).css("display")?($("#"+e).css("display","block"),$("#p"+e).attr("src","open.png")):($("#"+e).css("display","none"),$("#p"+e).attr("src","close.png"))}function open_dans(e){"none"==$("#"+e).css("display")?($("#"+e).css("display","block"),$("#p"+e).attr("src","open.png")):($("#"+e).css("display","none"),$("#p"+e).attr("src","close.png"))}